{"type":"queue-operation","operation":"dequeue","timestamp":"2026-02-15T19:00:00.000Z","sessionId":"test-123"}
{"type":"user","uuid":"msg-001","parentUuid":null,"timestamp":"2026-02-15T19:00:01.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","slug":"happy-testing-penguin","message":{"role":"user","content":"Hello, can you read the login file and fix the bug?"}}
{"type":"assistant","uuid":"msg-002","parentUuid":"msg-001","timestamp":"2026-02-15T19:00:02.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"assistant","model":"claude-opus-4-6","content":[{"type":"text","text":"I'll read the login file to understand the issue."},{"type":"tool_use","id":"tool-001","name":"Read","input":{"file_path":"/test/project/src/auth/login.ts"}}],"usage":{"input_tokens":150,"output_tokens":45,"cache_creation_input_tokens":0,"cache_read_input_tokens":100},"stop_reason":"tool_use"}}
{"type":"user","uuid":"msg-003","parentUuid":"msg-002","timestamp":"2026-02-15T19:00:03.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"tool-001","content":"export function login(username: string, password: string) {\n  if (username = 'admin') {\n    return true;\n  }\n  return false;\n}"}]}}
{"type":"assistant","uuid":"msg-004","parentUuid":"msg-003","timestamp":"2026-02-15T19:00:04.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"assistant","model":"claude-opus-4-6","content":[{"type":"text","text":"Found the bug! Line 2 uses `=` (assignment) instead of `===` (comparison). Let me fix it."},{"type":"tool_use","id":"tool-002","name":"Edit","input":{"file_path":"/test/project/src/auth/login.ts","old_string":"if (username = 'admin')","new_string":"if (username === 'admin')"}}],"usage":{"input_tokens":200,"output_tokens":60,"cache_creation_input_tokens":50,"cache_read_input_tokens":150},"stop_reason":"tool_use"}}
{"type":"user","uuid":"msg-005","parentUuid":"msg-004","timestamp":"2026-02-15T19:00:05.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"tool-002","content":"File edited successfully."}]}}
{"type":"assistant","uuid":"msg-006","parentUuid":"msg-005","timestamp":"2026-02-15T19:00:06.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"assistant","model":"claude-opus-4-6","content":[{"type":"text","text":"Fixed! The bug was using assignment (`=`) instead of strict equality (`===`) in the username check.\n\nHere's a diagram of the login flow:\n\n```mermaid\ngraph TD\n    A[User enters credentials] --> B{Username === admin?}\n    B -->|Yes| C[Return true]\n    B -->|No| D[Return false]\n```\n\nThe fix ensures the condition properly compares the username rather than assigning to it."}],"usage":{"input_tokens":250,"output_tokens":80,"cache_creation_input_tokens":0,"cache_read_input_tokens":200},"stop_reason":"end_turn"}}
{"type":"user","uuid":"msg-007","parentUuid":"msg-006","timestamp":"2026-02-15T19:00:07.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"user","content":"Now run the tests please"}}
{"type":"assistant","uuid":"msg-008","parentUuid":"msg-007","timestamp":"2026-02-15T19:00:08.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"assistant","model":"claude-opus-4-6","content":[{"type":"text","text":"Running the tests now."},{"type":"tool_use","id":"tool-003","name":"Bash","input":{"command":"npm test","description":"Run test suite"}}],"usage":{"input_tokens":300,"output_tokens":30,"cache_creation_input_tokens":0,"cache_read_input_tokens":250},"stop_reason":"tool_use"}}
{"type":"user","uuid":"msg-009","parentUuid":"msg-008","timestamp":"2026-02-15T19:00:10.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"tool-003","content":"PASS src/auth/login.test.ts\n  login function\n    ✓ returns true for admin (2ms)\n    ✓ returns false for non-admin (1ms)\n\nTest Suites: 1 passed, 1 total\nTests:       2 passed, 2 total"}]}}
{"type":"assistant","uuid":"msg-010","parentUuid":"msg-009","timestamp":"2026-02-15T19:00:11.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"assistant","model":"claude-opus-4-6","content":[{"type":"text","text":"All tests pass! The login bug is fixed."}],"usage":{"input_tokens":350,"output_tokens":15,"cache_creation_input_tokens":0,"cache_read_input_tokens":300},"stop_reason":"end_turn"}}
{"type":"assistant","uuid":"msg-011","parentUuid":"msg-010","timestamp":"2026-02-15T19:00:12.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","slug":"happy-testing-penguin","message":{"role":"assistant","model":"claude-opus-4-6","content":[{"type":"thinking","thinking":"Let me consider the architecture...","signature":"sig123"},{"type":"text","text":"Here is my analysis."}],"usage":{"input_tokens":100,"output_tokens":20,"cache_creation_input_tokens":0,"cache_read_input_tokens":0},"stop_reason":"end_turn"}}
{"type":"assistant","uuid":"msg-012","parentUuid":"msg-011","timestamp":"2026-02-15T19:00:13.000Z","sessionId":"test-123","message":{"role":"assistant","model":"claude-opus-4-6","content":[{"type":"text","text":"\n\n"}],"usage":{"input_tokens":3,"output_tokens":1},"stop_reason":null}}
{"type":"user","uuid":"msg-013","parentUuid":"msg-012","timestamp":"2026-02-15T19:00:14.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"user","content":[{"type":"image","source":{"type":"base64","media_type":"image/png","data":"iVBORw0KGgoAAAANSUhEUg=="}}]}}
{"type":"user","uuid":"msg-014","parentUuid":"msg-012","timestamp":"2026-02-15T19:00:15.000Z","sessionId":"test-123","cwd":"/test/project","version":"2.0.80","message":{"role":"user","content":[{"type":"tool_result","tool_use_id":"tool-004","content":[{"type":"text","text":"Line 1 of output"},{"type":"text","text":"Line 2 of output"}]}]}}
{"type":"system","uuid":"msg-sys","timestamp":"2026-02-15T19:00:16.000Z","sessionId":"test-123","message":"System notification"}
{"type":"progress","uuid":"msg-prog","parentUuid":"msg-012","timestamp":"2026-02-15T19:00:17.000Z","sessionId":"test-123","data":"progress data"}
